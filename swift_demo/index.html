<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiFT AI Pipeline | 3D Single View Demo</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Top Navigation / Progress Indicator -->
    <header class="top-nav">
        <div class="nav-title">SwiFT Foundation Model Pipeline</div>
        <div class="nav-progress">
            <div class="nav-step active" id="nav-step-1">1. Raw Input</div>
            <div class="nav-line"></div>
            <div class="nav-step" id="nav-step-2">2. SwiFT Backbone</div>
            <div class="nav-line"></div>
            <div class="nav-step" id="nav-step-3">3. Downstream Fine-Tuning</div>
            <div class="nav-line"></div>
            <div class="nav-step" id="nav-step-4">4. Prediction Results</div>
        </div>
        <button id="start-btn" class="primary-btn">Start Analysis</button>
    </header>

    <main class="viewport">
        <!-- SVG Connections Layer -->
        <!-- Will draw paths connecting elements depending on layout -->
        <svg class="connections-layer" id="svg-layer">
            <path id="pathA" class="data-path path-red" d="" />
            <path id="pathB" class="data-path path-green" d="" />
        </svg>

        <!-- VERY TOP: Immersive Power-Up Sequence Overlay -->
        <div class="power-overlay" id="power-overlay">
            <div class="power-up-container" id="power-up-container">
                <div class="power-pillar" id="pillar-data">
                    <div class="pillar-core"></div>
                    <div class="pillar-rings"></div>
                    <div class="pillar-label"><strong>60T</strong>Unlabeled 4D fMRI Data<br>(대규모의 뇌 영상 DB)</div>
                </div>
                <div class="power-pillar" id="pillar-compute">
                    <div class="pillar-core"
                        style="background: linear-gradient(180deg, #fd7e14 0%, #d9480f 100%); box-shadow: 0 0 30px rgba(253, 126, 20, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.5);">
                    </div>
                    <div class="pillar-rings"
                        style="border-color: #ffa94d; box-shadow: 0 0 20px rgba(255, 169, 77, 0.8), inset 0 0 10px rgba(255, 169, 77, 0.5);">
                    </div>
                    <div class="pillar-label"><strong>Aurora HPC</strong>Supercomputing Power<br>(압도적 연산력)
                    </div>
                </div>
                <div class="power-pillar" id="pillar-arch">
                    <div class="pillar-core"
                        style="background: linear-gradient(180deg, #20c997 0%, #08a081 100%); box-shadow: 0 0 30px rgba(32, 201, 151, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.5);">
                    </div>
                    <div class="pillar-rings"
                        style="border-color: #63e6be; box-shadow: 0 0 20px rgba(99, 230, 190, 0.8), inset 0 0 10px rgba(99, 230, 190, 0.5);">
                    </div>
                    <div class="pillar-label"><strong>SwiFT 4D</strong>Spatio-Temporal Architecture<br>(4D fMRI에 특화된 혁신적
                        모델 구조)</div>
                </div>
            </div>
            <div class="power-message" id="power-message">
                "이 거대한 세 개의 축이 모여 생성된 지능(Foundation Knowledge)이<br><strong>SwiFT Backbone</strong>이 됩니다."
            </div>
            <div class="energy-burst" id="energy-burst"></div>
        </div>

        <div class="grid-container">

            <!-- ROW 1 -->
            <div class="row row-1">

                <!-- Stage 1: Input -->
                <div class="stage-col stage-input">
                    <div class="stage-title">Raw fMRI Input</div>
                    <div class="intro-message" id="msg-input">
                        <br>육안으로는 두 사람의 뇌 기능을 구별하기 힘듭니다.<br>
                        <strong>누가 정상(HC)이고, 누가 경도인지장애(MCI)일까요?</strong><br>
                        <span class="highlight-text">SwiFT Foundation Model은 이 뇌의 기능적 신호에서 미세한 차이를 포착해내 누가 정상인지 구분할 수
                            있습니다.</span>
                    </div>
                    <div class="input-track A mt-20">
                        <span class="badge red-bg">참여자 A</span>
                        <div class="raw-gif"><img src="output/gard_sub-324_mci.gif" alt="fMRI A (MCI)"></div>
                    </div>
                    <div class="input-track B mt-20">
                        <span class="badge green-bg">참여자 B</span>
                        <div class="raw-gif"><img src="output/gard_sub-24_hc.gif" alt="fMRI B (HC)"></div>
                    </div>
                </div>

                <!-- Arrows -->
                <div class="stage-col align-center" style="gap: 130px;">
                    <div class="arrow glow-arrow" id="arrow-A-to-4d">→</div>
                    <div class="arrow glow-arrow" id="arrow-B-to-4d">→</div>
                </div>

                <!-- Stage 2: 4D Rep -->
                <div class="stage-col stage-4d">
                    <div class="stage-title">4D Representation</div>
                    <div class="rep-box" id="node-4d-A">
                        <div class="rep-label">1 x D x H x W x T</div>
                        <div class="stack-4d">
                            <div class="slice-3d"></div>
                            <div class="slice-3d"></div>
                            <div class="slice-3d"></div>
                        </div>
                    </div>
                    <div class="rep-box mt-20" id="node-4d-B">
                        <div class="rep-label">1 x D x H x W x T</div>
                        <div class="stack-4d green-stack">
                            <div class="slice-3d"></div>
                            <div class="slice-3d"></div>
                            <div class="slice-3d"></div>
                        </div>
                    </div>
                </div>

                <!-- Arrow -->
                <div class="stage-col align-center">
                    <div class="arrow glow-arrow" id="arrow-to-swift">→</div>
                </div>

                <!-- Stage 3: SwiFT Backbone (3D Isometric) -->
                <div class="stage-col stage-swift">
                    <div class="stage-title">SwiFT Foundation Backbone</div>
                    <div class="backbone-message" id="backbone-message">
                        <strong>수만 명의 데이터로 완성된 뇌 신호의 '표준 분석 기준'</strong><br>
                        5만 명 이상의 대규모 데이터로 뇌 신호의 핵심을 잡아내는 방법을 이미 학습,<br>
                        새로운 데이터에서도 이를 바탕으로 핵심 특징(Embedding)을 추출합니다.
                    </div>



                    <div class="iso-container" id="backbone-container">
                        <!-- Isometric Blocks -->
                        <div class="iso-block iso-base" id="iso-patch">
                            <div class="iso-face top">Patch Partition & Embed</div>
                            <div class="iso-face left"></div>
                            <div class="iso-face right"></div>
                        </div>

                        <div class="iso-block iso-stage" id="iso-st1">
                            <div class="iso-face top">
                                <strong>Stage 1</strong><br>
                                Abs. Pos. Embed<br>
                                <span>4D Block x 2</span>
                            </div>
                            <div class="iso-face left"></div>
                            <div class="iso-face right"></div>
                        </div>

                        <div class="iso-block iso-stage" id="iso-st2">
                            <div class="iso-face top">
                                <strong>Stage 2-3</strong><br>
                                Patch Merging<br>
                                <span>4D Block x Ls</span>
                            </div>
                            <div class="iso-face left"></div>
                            <div class="iso-face right"></div>
                        </div>

                        <div class="iso-block iso-stage" id="iso-st4">
                            <div class="iso-face top">
                                <strong>Stage 4</strong><br>
                                Patch Merging<br>
                                <span>Global Attn x 2</span>
                            </div>
                            <div class="iso-face left"></div>
                            <div class="iso-face right"></div>
                        </div>

                        <div class="iso-block iso-base" id="iso-norm">
                            <div class="iso-face top">Normalization Layer</div>
                            <div class="iso-face left"></div>
                            <div class="iso-face right"></div>
                        </div>
                    </div>
                </div>

            </div> <!-- End Row 1 -->

            <div class="row vertical-connect">
                <div class="u-turn" id="u-turn-arrow"></div>
            </div>


            <!-- ROW 2 -->
            <div class="row row-2">

                <!-- No Spacer needed, Interpretation block fills this area -->
                <!-- Stage 6: Interpretation (DMN Attention) -->
                <div class="stage-col stage-interpretation" id="stage-interp">
                    <div class="stage-title">Interpretation</div>
                    <!-- Image TOP (full width), message BOTTOM -->
                    <div class="interp-container" id="interp-A">
                        <img src="output/surface_difference.png" alt="Surface Difference Map">
                    </div>
                    <div class="intro-message" id="msg-interp"
                        style="font-size: 0.82rem; margin-top: 12px; width: 100%; max-width: 520px; padding: 10px 0; text-align: center;">
                        육안으로는 알 수 없는 <strong>Default Mode Network(DMN)의 미세한 비활성화</strong>를
                        모델이 스스로 캐치하여 판별의 핵심 근거로 삼았음을 보여줍니다.
                    </div>
                </div>

                <div class="stage-col stage-results">
                    <div class="stage-title">Task Label / Prediction</div>

                    <div class="cards-wrapper">
                        <!-- Card A -->
                        <div class="result-card" id="result-A">
                            <div class="card-inner">
                                <div class="card-front">
                                    <div class="wait-spinner"></div>
                                    <p>Predicting...<br>[참여자 A]</p>
                                </div>
                                <div class="card-back danger-back">
                                    <div class="card-head">
                                        <span class="badge red-bg">참여자 A</span>
                                        <strong>MCI 위험도</strong>
                                    </div>
                                    <div class="prob-circle danger-circle">
                                        <svg viewBox="0 0 36 36" class="circular-chart red">
                                            <path class="circle-bg"
                                                d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                            <path class="circle" stroke-dasharray="95, 100"
                                                d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                            <text x="18" y="20.35" class="percentage">95%</text>
                                        </svg>
                                    </div>
                                    <p class="forecast">MCI 가능성 매우 높음</p>
                                    <div class="truth-box">실제 결과: <strong>MCI</strong></div>
                                </div>
                            </div>
                        </div>

                        <!-- Card B -->
                        <div class="result-card" id="result-B">
                            <div class="card-inner">
                                <div class="card-front">
                                    <div class="wait-spinner"></div>
                                    <p>Predicting...<br>[참여자 B]</p>
                                </div>
                                <div class="card-back safe-back">
                                    <div class="card-head">
                                        <span class="badge green-bg">참여자 B</span>
                                        <strong>MCI 위험도</strong>
                                    </div>
                                    <div class="prob-circle safe-circle">
                                        <svg viewBox="0 0 36 36" class="circular-chart green">
                                            <path class="circle-bg"
                                                d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                            <path class="circle" stroke-dasharray="3, 100"
                                                d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                            <text x="18" y="20.35" class="percentage">3%</text>
                                        </svg>
                                    </div>
                                    <p class="forecast">건강한 뇌 (MCI 위험도 낮음)</p>
                                    <div class="truth-box">실제 결과: <strong>HC (Normal)</strong></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- Stage 4: Downstream Fine-Tuning -->
                <div class="stage-col stage-downstream">
                    <div class="stage-title">Downstream Fine-tuning Head</div>
                    <!-- blocks LEFT + message RIGHT side-by-side -->
                    <div class="ds-inner-layout">
                        <div class="iso-container ds-container" id="ds-container">

                            <!-- Latent Rep (Base) -->
                            <div class="iso-block iso-latent" id="iso-latent">
                                <div class="iso-face top">Latent Representation</div>
                                <div class="iso-face left"></div>
                                <div class="iso-face right"></div>
                            </div>

                            <div class="flow-arrow-down small">↓</div>

                            <!-- Linear Head Box -->
                            <div class="iso-block iso-head" id="iso-head">
                                <div class="iso-face top">
                                    <div class="head-stack">
                                        <div class="hs-item">Flatten Dim</div>
                                        <div class="hs-arrow">↓</div>
                                        <div class="hs-item">1D Avg Pooling</div>
                                        <div class="hs-arrow">↓</div>
                                        <div class="hs-item target">Prediction Head</div>
                                    </div>
                                </div>
                                <div class="iso-face left"></div>
                                <div class="iso-face right"></div>
                            </div>
                        </div>

                        <!-- Message on the right -->
                        <div class="intro-message" id="msg-downstream"
                            style="font-size: 0.8rem; max-width: 280px; margin-top: 0; flex-shrink: 0; align-self: center;">
                            추출된 뇌의 핵심 임베딩을 바탕으로,<br>
                            <strong>특정 참여자의 정상(HC) 여부와 경도인지장애(MCI) 발병 여부를 정밀하게 감별</strong>해냅니다.
                        </div>
                    </div>
                </div>

            </div> <!-- End Row 2 -->

        </div>
    </main>

    <script src="script.js"></script>
</body>

</html>